function qifengle
%% 起风了
clear all
fs = 44100;
ts = 0.78;
%% #F调

z = [369.994, 415.305, 466.164, 493.883, 554.365, 622.254, 698.456]
g = z*2;
cg = g*2;
d = z/2;
cd = d/2;
s1 = 783;
s5 = 1174;
%% 主音轨
t1 = [d(7) z(1) z(2) z(3) d(5) z(5) z(3) d(7) z(1) z(2) z(3) d(5) z(5) z(3) z(2) z(3) z(1) z(2) d(7) z(1) d(5)...
      d(7) z(1) z(2) z(3) d(5) z(5) z(3)...
      d(7) z(1) z(2) z(3) d(5) z(5) z(3) z(2) z(3) z(1) z(2) d(7) z(1) d(5)...
      z(7) g(1) g(2) g(3) z(5) g(5) g(3)...
      z(7) g(1) g(2) g(3) z(5) g(5) g(3) g(2) g(3) g(1) g(2) z(7) g(1) z(5)...
      z(7) g(1) g(2) g(3) z(5) g(5) g(3)...
      z(2) s1...
      z(2) z(1) z(2) z(1) z(2) z(3) z(5) z(3) z(2) z(1) z(2) z(1) z(2) z(3) z(2) z(1) d(5)...
      z(2) z(1) z(2) z(1) z(2) z(3) z(5) z(3) z(2) z(3) z(2) z(1) z(2)...
      z(2) z(1) z(2) z(1) z(2) z(3) z(5) z(3) z(2) z(3) z(2) z(1) d(6)...
      z(3) z(2) z(1) z(2) z(1) z(3) z(2) z(1) z(2) z(1) d(5) z(3) z(2) z(1) z(2) z(1)...
      z(1) z(2) z(3) z(1)...
      z(6) z(5) z(6) z(1) z(7) z(6) z(7)...
      z(7) z(6) z(7) z(3) g(1) g(2) g(1) z(7) z(6) z(5)...
      z(6) z(5) z(6) z(5) z(6) z(5) z(6) z(5) z(2) z(5)...
      z(3)...
      z(1) z(2) z(3) z(1)...
      z(6) z(5) z(6) z(1) z(7) z(6) z(7)...
      z(7) z(6) z(7) z(3) g(1) g(2) g(1) z(7) z(6) z(5)...
      z(6) g(3) g(3) z(5) z(6) g(3) g(3) z(5) z(6)...
      z(6)...
      g(1) g(2)...
      g(3) g(6) g(5) g(6) g(5) g(6) g(5) g(2) g(3)...
      g(6) g(5) g(6) g(5) g(6) g(5) g(3)...
      g(2) g(1) z(6) g(1) g(1) g(2) g(1) z(6) g(1)...
      g(3) g(4) g(3) g(2) g(3) g(2) g(1) g(2)...
      g(3) g(6) g(5) g(6) g(5) g(6) g(5) g(2)...
      g(3) g(6) g(5) g(6) g(5) g(6) g(5) g(3)...
      g(2) g(1) z(6) g(3) g(2) g(1) z(6) g(1)...
      g(1) z(6) g(3)...
      g(2) g(1) z(6) g(3) g(2) g(1) z(6)  g(1)...
      g(1)...
      d(7) z(1) z(2) z(3) d(5) z(5) z(3) z(2) z(3) z(1) z(2) d(7) z(1) d(5)...
      d(7) z(1) z(2) z(3) d(5) z(5) z(3)...
      z(2) s1...
      z(2) z(1) z(2) z(1) z(2) z(3) z(5) z(3) z(2) z(1) z(2) z(1) z(2) z(3) z(2) z(1) d(5)...
      z(2) z(1) z(2) z(1) z(2) z(3) z(5) z(3) z(2) z(3) z(2) z(1) z(2)...
      z(2) z(1) z(2) z(1) z(2) z(3) z(5) z(3) z(2) z(3) z(2) z(1) d(6)...
      z(3) z(2) z(1) z(2) z(1) z(3) z(2) z(1) z(2) z(1) d(5) z(3) z(2) z(1) z(2) z(1)...
      z(1) z(2) z(3) z(1)...
      z(6) z(5) z(6) z(1) z(7) z(6) z(7)...
      z(7) z(6) z(7) z(3) g(1) g(2) g(1) z(7) z(6) z(5)...
      z(6) z(5) z(6) z(5) z(6) z(5) z(6) z(5) z(2) z(5)...
      z(3)...
      z(1) z(2) z(3) z(1)...
      z(6) z(5) z(6) z(1) z(7) z(6) z(7)...
      z(7) z(6) z(7) z(3) g(1) g(2) g(1) z(7) z(6) z(5)...
      z(6) g(3) g(3) z(5) z(6) g(3) g(3) z(5) z(6)...
      z(6)...
      g(1) g(2)...
      g(3) g(6) g(5) g(6) g(5) g(6) g(5) g(2) g(3)...
      g(6) g(5) g(6) g(5) g(6) g(5) g(3)...
      g(2) g(1) z(6) g(1) g(1) g(2) g(1) z(6) g(1)...
      g(3) g(4) g(3) g(2) g(3) g(2) g(1) g(2)...
      g(3) g(6) g(5) g(6) g(5) g(6) g(5) g(2)...
      g(3) g(6) g(5) g(6) g(5) g(6) g(5) g(3)...
      g(2) g(1) z(6) g(3) g(2) g(1) z(6) g(1)...
      g(1) z(6) g(3)...
      g(2) g(1) z(6) g(3) g(2) g(1) z(6)  g(1)...
      g(1)...
      z(7) g(1) g(2) g(3) z(5) g(5) g(3)...
      z(7) g(1) g(2) g(3) z(5) g(5) g(3) g(2) g(3) g(1) g(2) z(7) g(1) z(5)...
      z(7) g(1) g(2) g(3) z(5) g(5) g(3)...
      z(7) g(1) g(2) g(3) z(5) g(5) g(3) g(2) g(3) g(1) g(2) z(7) g(1) z(6) z(5)]*2^(3/12);%%旋律音想要升调的话，指数那里的0自己改一下（0-12）
  
  
t2 = [cd(4) d(1) d(3) cd(5) cd(7) d(2)...
      cd(3) cd(7) d(2) cd(6) d(1) d(3)...
      cd(4) d(1) d(3) cd(5) cd(7) d(2)...
      cd(3) cd(7) d(2) cd(6) d(1) d(3)...
      cd(4) d(1) d(3) cd(5) cd(7) d(2)...
      cd(3) cd(7) d(2) cd(6) d(1) d(3)...
      cd(4) d(1) d(3) cd(5) cd(7) d(2)...
      cd(6) cd(6)...
      d(1) d(5) z(1) d(5) d(5) z(1) d(5)...
      cd(7) d(5) d(7) d(5)...
      cd(6) d(5) d(6) d(5) d(5) d(6) d(5)...
      cd(4) d(1) d(4) d(1) cd(4)...
      cd(2) cd(6) d(2) cd(6) cd(5) d(2) d(5) d(2)...
      cd(6) d(3) d(6) d(3) cd(6)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      d(1) d(5) z(1) d(5) d(1)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(3) cd(7) d(3) cd(7) cd(6) d(3) d(6) d(3)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      d(1) d(5) z(1) d(5) cd(6) cd(5)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(3) cd(5) cd(6) d(3) d(6) d(3)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(6) cd(6) cd(6) cd(6) cd(6) cd(6) cd(6) cd(6)...  %% 6 6 6 6
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(3) cd(7) d(3) cd(7) cd(6) d(3) d(6) d(3)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      d(1) d(5) z(1) d(5) cd(3) cd(5)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(3) cd(7) d(3) cd(7) cd(6) d(3) d(6) d(3)...
      cd(4) d(1) d(4) d(1) cd(4) d(2) d(5) d(2)...
      cd(6) d(3) d(6) d(3) z(1)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(4) d(1) d(3) cd(5) cd(7) d(2)...
      cd(3) cd(7) d(2) cd(6) d(1) d(3)...
      cd(6) d(1) d(3) cd(5) cd(7) d(2)...
      cd(6) cd(6)...
      d(1) d(5) z(1) d(5) d(5) z(1) d(5)...
      cd(7) d(5) d(7) d(5)...
      cd(6) d(5) d(6) d(5) d(5) d(6) d(5)...
      cd(4) d(1) d(4) d(1) cd(4)...   %%3
      cd(2) cd(6) d(2) cd(6) cd(5) d(2) d(5) d(2)...
      cd(6) d(3) d(6) d(3) cd(6)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      d(1) d(5) z(1) d(5) d(1)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(3) cd(7) d(3) cd(7) cd(6) d(3) d(6) d(3)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      d(1) d(5) z(1) d(5) cd(6) cd(5)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(3) cd(5) cd(6) d(3) d(6) d(3)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(6) cd(6) cd(6) cd(6) cd(6) cd(6) cd(6) cd(6)... %% 6 6 6  6
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(3) cd(7) d(3) cd(7) cd(6) d(3) d(6) d(3)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      d(1) d(5) z(1) d(5) cd(3) cd(5)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(3) cd(7) d(3) cd(7) cd(6) d(3) d(6) d(3)...
      cd(4) d(1) d(4) d(1) cd(5) d(2) d(5) d(2)...
      cd(6) d(3) d(6) d(3) z(1)...
      cd(4) d(1) d(4) cd(5) d(2) d(5)...
      d(1) d(5) z(2) z(2)...
      cd(4) d(1) d(3) cd(5) cd(7) d(2)...
      cd(3) cd(7) d(2) cd(6) d(1) d(3)...
      cd(4) d(1) d(3) cd(5) cd(7) d(2)...
      cd(3) cd(7) d(2) cd(6) d(1) d(3)...
      0 0 0];
t3 = [0*ones(1, 16)...
      d(7) z(1) z(2) z(3) d(5) z(5) z(3)...
      d(7) z(1) z(2) z(3) d(5) z(5) z(3) z(2) z(3) z(1) z(2) d(7) z(1) d(5)...
      d(7) z(1) z(2) z(3) d(5) z(5) z(3)...
      d(6) d(6)...
      0*ones(1, 60)...
      d(6) d(6) d(6) d(6) d(6) d(6) d(6) d(6)...
      0*ones(1, 36)...
      d(7) z(1) z(2) z(3) d(5) z(5) z(3)]*2^(3/12); %%旋律音想要升调的话，指数那里的0自己改一下（0-12）

r1 = [1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      1/4 1/4 1/4 1/2 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/2 ...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      1/4 1/4 1/4 1/2 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/2 ...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      1/4 1/4 1/4 1/2 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/2 ...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      2 2 ...
      3/4 1/4 3/4 1/4 1/2 1/2 1/2 1/2 ...
      3/4 1/4 3/4 1/4 1/4 1/4 1/4 1/4 1 ...
      3/4 1/4 3/4 1/4 1/2 1/2 1/2 1/2 ...
      3/4 1/4 1/2 1/2 2 ...
      3/4 1/4 3/4 1/4 1/2 1/2 1/2 1/2 ...
      3/4 1/4 1/2 1/2 1 1/4 1/4 1/4 1/4 ...
      1 1/4 1/4 1/4 1/4 3/4 1/4 1/4 1/4 1/4 1/4 ...
      2 1/2 1/2 1/2 1/2 ...
      1/2 1/4 1 1/4 1/2 1/4 5/4 ...
      1/2 1/4 3/4 1/2 1/4 1/4 1/4 1/4 1/2 1/2 ...
      1/2 1/4 1/2 1/4 1/4 1/4 1/2 1/4 1/2 3/4 ...
      2 1/2 1/2 1/2 1/2 ...
      1/2 1/4 1 1/4 1/2 1/4 5/4 ...
      1/2 1/4 3/4 1/2 1/4 1/4 1/4 1/4 1/2 1/2 ...
      1/2 1/4 3/4 1/2 1/2 1/4 1/2 1/2 1/4 ...
      3 1/2 1/2 ...
      1/2 1/4 3/4 1/4 3/4 1/4 3/4 1/4 3/4 ...
      1/4 3/4 1/4 3/4 1/4 1/2 3/4 ...
      1/2 1/4 1/2 1/2 1/4 1/2 1/4 1/2 3/4 ...
      5/4 1/4 1/4 1/4 1/4 3/4 1/2 1/2 ...
      1/2 1/4 3/4 1/4 3/4 1/4 3/4 1/2 ...
      1/2 1/4 3/4 1/4 3/4 1/4 1/2 3/4 ...
      1/2 1/4 1/2 3/4 1/2 1/4 1/2 3/4 ...
      3 1/4 3/4 ...
      1/2 1/4 1/2 3/4 1/2 1/4 1/2 3/4 ...
      4 ...
      1/4 1/4 1/4 1/2 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/2 ...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      2 2 ...
      3/4 1/4 3/4 1/4 1/2 1/2 1/2 1/2 ...
      3/4 1/4 3/4 1/4 1/4 1/4 1/4 1/4 1 ...
      3/4 1/4 3/4 1/4 1/2 1/2 1/2 1/2 ...
      3/4 1/4 1/2 1/2 2 ...
      3/4 1/4 3/4 1/4 1/2 1/2 1/2 1/2 ...
      3/4 1/4 1/2 1/2 1 1/4 1/4 1/4 1/4 ...
      1 1/4 1/4 1/4 1/4 3/4 1/4 1/4 1/4 1/4 1/4 ...
      2 1/2 1/2 1/2 1/2 ...
      1/2 1/4 1 1/4 1/2 1/4 5/4 ...
      1/2 1/4 3/4 1/2 1/4 1/4 1/4 1/4 1/2 1/2 ...
      1/2 1/4 1/2 1/4 1/4 1/4 1/2 1/4 1/2 3/4 ...
      2 1/2 1/2 1/2 1/2 ...
      1/2 1/4 1 1/4 1/2 1/4 5/4 ...
      1/2 1/4 3/4 1/2 1/4 1/4 1/4 1/4 1/2 1/2 ...
      1/2 1/4 3/4 1/2 1/2 1/4 1/2 1/2 1/4 ...
      3 1/2 1/2 ...
      1/2 1/4 3/4 1/4 3/4 1/4 3/4 1/4 3/4 ...
      1/4 3/4 1/4 3/4 1/4 1/2 3/4 ...
      1/2 1/4 1/2 1/2 1/4 1/2 1/4 1/2 3/4 ...
      5/4 1/4 1/4 1/4 1/4 3/4 1/2 1/2 ...
      1/2 1/4 3/4 1/4 3/4 1/4 3/4 1/2 ...
      1/2 1/4 3/4 1/4 3/4 1/4 1/2 3/4 ...
      1/2 1/4 1/2 3/4 1/2 1/4 1/2 3/4 ...
      3 1/4 3/4 ...
      1/2 1/4 1/2 3/4 1/2 1/4 1/2 3/4 ...
      4 ...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      1/4 1/4 1/4 1/2 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/2 ...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      1/4 1/4 1/4 1/2 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4  ...
      17/4]*fs*ts    

r2 = [1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      2 2 ...
      1/2 1/2 1/2 1 1/2 1/2 1/2 ...
      1/2 1/2 1/2 5/2 ...
      1/2 1/2 1/2 1 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1 1 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1 1 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...   %%6 6  6
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1 1 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      2 2 ...
      1/2 1/2 1/2 1 1/2 1/2 1/2 ...
      1/2 1/2 1/2 5/2 ...
      1/2 1/2 1/2 1 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 2 ...    %%  3
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1 1 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1 1 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1 1 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 1/2 1/2 1/2 1/2 ...
      1/2 1/2 1/2 1/2 2 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 2 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 1 ...
      1/2 1/2 1 1/2 1/2 2 ...
      1 1 1]*ts*fs 
r3 = [1*ones(1, 16) ...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      1/4 1/4 1/4 1/2 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/4 1/2 ...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4 ...
      2 2 ...
      1*ones(1, 60)...
      1/2*ones(1,8)...
      1*ones(1, 36)...
      1/4 1/4 1/4 1/2 1/4 1/4 9/4]*fs*ts;
x1 = [];
x2 = [];
x3 = [];
for n = 1:length(t1)
      M = length(x1);
      t = [];
      t = 1:r1(n);
      t = t./fs;
      N = length(t);
      a1 = (1.5*sin(1.5*pi*t1(n)*t)+ sin(4.5*pi*t1(n)*t)).*y1(N).*2.*exp(-t).^2;
      x1(M+1 : M+N) = a1; 
end

for n = 1:length(t2)
      M = length(x2);
      t = [];
      t = 1 : r2(n);
      t = t ./ fs;
      N = length(t);
      a2 = (sin(2*pi*t2(n)*t) + 0.5*sin(4*pi*t2(n)*t) + 0.05*sin(6*pi*t2(n)*t) + ...
          0.5*sin(8*pi*t2(n)*t)).*y2(N).*2.*exp(-t).^2;    
      x2(M+1 : M+N) = a2;
end

for n = 1:length(t3)
      M = length(x3);
      t = [];
      t = 1 : r3(n);
      t = t ./ fs;
      N = length(t);
      a3 = (1.5*sin(1.5*pi*t3(n)*t)+ sin(4.5*pi*t3(n)*t)).*y3(N).*2.*exp(-t).^2;
      x3(M+1 : M+N) = a3; 
      
end

%% 旋律音和伴奏音结合
x1(1,9356256) = 0;
x3(1,9356256) = 0;
melody = x1+x2+x3;
melody = melody /max(melody);
sound(melody,fs)
function R1 = y1(m)
yt = 1 : m;
fs = 40000;
R1 = ((yt/fs).^(1/10))./exp(yt./fs*2.5);
return
end

function R2 = y2(m)
yt = 1 : m;
fs = 40000;
R2 = ((yt/fs).^(1/15))./exp(yt./fs*1.5);
return
end

function R3 = y3(m)
yt = 1 : m;
fs = 40000;
R3 = ((yt/fs).^(1/10))./exp(yt./fs*1.5);
return

end
end